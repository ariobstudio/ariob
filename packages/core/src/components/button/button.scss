@import '../../styles/variables';
@import '../../styles/mixins';

.btn {
  @include button-base;
  @include flex-center;

  // --- Variants ---
  &--primary {
    @include button-variant(
      var(--primary),
      var(--primary-contrast),
      var(--primary),
      var(--primary-hover),
      var(--primary-contrast),
      var(--primary-hover),
      var(--primary-active),
      var(--primary-contrast),
      var(--primary-active)
    );
  }

  &--secondary {
    @include button-variant(
      var(--secondary),
      var(--secondary-contrast),
      var(--secondary),
      var(--secondary-hover),
      var(--secondary-contrast),
      var(--secondary-hover),
      var(--secondary-active),
      var(--secondary-contrast),
      var(--secondary-active)
    );
  }

  &--outline {
    @include button-outline-variant(
      var(--primary),
      var(--primary)
    );
  }

  &--danger {
    @include button-variant(
      var(--error),
      var(--error-contrast),
      var(--error),
      var(--error-hover),
      var(--error-contrast),
      var(--error-hover),
      var(--error-active),
      var(--error-contrast),
      var(--error-active)
    );
  }

  &--danger-outline {
    @include button-outline-variant(
      var(--error),
      var(--error)
    );
  }

  &--subtle {
    @include button-variant(
      transparent,
      var(--primary),
      transparent,
      var(--bg-hover),
      var(--primary),
      transparent,
      var(--bg-active),
      var(--primary),
      transparent
    );
  }

  // --- Sizes ---
  &--size-sm {
    padding: calc(#{$button-padding-y-md} * 0.75) calc(#{$button-padding-x-md} * 0.75);
    min-height: calc(#{$button-min-height-md} * 0.8);
    font-size: $font-size-sm;
  }

  &--size-lg {
    padding: calc(#{$button-padding-y-md} * 1.25) calc(#{$button-padding-x-md} * 1.25);
    min-height: calc(#{$button-min-height-md} * 1.1);
    font-size: $font-size-lg;
  }

  // --- States ---
  &.disabled {
    pointer-events: none;
    opacity: 0.65;
    cursor: not-allowed;
  }

  // --- Icon Support ---
  .icon {
    font-size: 1.2em;
    
    &--start {
      margin-right: $space-2;
    }
    
    &--end {
      margin-left: $space-2;
    }
  }

  &--icon-only {
    padding: $space-2;
    min-width: $button-min-height-md;
    
    .icon {
      margin: 0;
    }
  }
}