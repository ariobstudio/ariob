@import "tailwindcss";
@import "@heroui/styles";
@import url("https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css");

/* Base styles for proper scrolling and fixed positioning */
html, body {
  min-height: 100%;
  margin: 0;
  padding: 0;
  overflow-x: hidden;
  overflow-y: auto;
  background-color: #000;
}

/* Ensure React Native Web containers don't block scrolling */
#root, [data-rn-root] {
  min-height: 100%;
  overflow: visible;
}

/* =============================================================================
   CSS Custom Properties (Design Tokens)
   Following HeroUI semantic naming conventions
   ============================================================================= */

:root {
  /* Color tokens */
  --brana-color-primary: #007AFF;
  --brana-color-secondary: #8E8E93;
  --brana-color-tertiary: #636366;
  --brana-color-danger: #FF453A;
  --brana-color-success: #30D158;

  /* Surface colors */
  --brana-surface-default: #000;
  --brana-surface-elevated: #1C1C1E;
  --brana-surface-overlay: #2C2C2E;

  /* Border colors */
  --brana-border-default: #38383A;
  --brana-border-subtle: #3A3A3C;

  /* Text colors */
  --brana-text-primary: #fff;
  --brana-text-secondary: #8E8E93;
  --brana-text-muted: #636366;

  /* Focus ring */
  --brana-focus-ring: rgba(0, 122, 255, 0.5);
  --brana-focus-ring-width: 2px;
  --brana-focus-ring-offset: 2px;

  /* Motion - GPU-accelerated transitions */
  --brana-transition-fast: 150ms ease;
  --brana-transition-normal: 200ms ease-in-out;
  --brana-transition-slow: 300ms ease-in-out;
}

/* Respect reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  :root {
    --brana-transition-fast: 0ms;
    --brana-transition-normal: 0ms;
    --brana-transition-slow: 0ms;
  }
}

/* =============================================================================
   Accessibility Utilities
   ============================================================================= */

/* Screen reader only - visually hidden but accessible */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Focus visible utilities - HeroUI data attribute pattern */
[data-focus-visible="true"],
.block-menu__icon:focus-visible,
.selection-menu button:focus-visible {
  outline: var(--brana-focus-ring-width) solid var(--brana-focus-ring);
  outline-offset: var(--brana-focus-ring-offset);
}

/* Remove focus ring for mouse users */
.block-menu__icon:focus:not(:focus-visible),
.selection-menu button:focus:not(:focus-visible) {
  outline: none;
}

/* =============================================================================
   Editor Container - Responsive Web Layout (mindful-inspired)
   ============================================================================= */

.editor-container {
  display: flex;
  flex-direction: column;
  background-color: var(--brana-surface-default);
  color: var(--brana-text-primary);
  font-family: 'IBM Plex Mono', 'SF Mono', 'Menlo', monospace;
  min-height: 100vh;
  height: auto;
  /* Centered responsive layout like mindful */
  max-width: 720px;
  width: 90%;
  margin: 0 auto;
  padding: 48px 24px 48px 24px;
  /* Position relative to contain absolutely positioned menus */
  position: relative;
  /* Allow content to scroll naturally */
  overflow: visible;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .editor-container {
    width: 95%;
    padding: 40px 20px 32px 20px;
  }
}

@media (max-width: 480px) {
  .editor-container {
    width: 100%;
    padding: 24px 16px 24px 16px;
  }
}

.editor-content {
  flex: 1;
  outline: none;
}

/* Keep cursor visible when menu is open */

/* =============================================================================
   Fixed Top Toolbar (shows when editor has content)
   ============================================================================= */

.top-toolbar {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 100;
  display: flex;
  justify-content: center;
  padding: 16px 24px;
  background: linear-gradient(
    to bottom,
    var(--brana-surface-default) 0%,
    var(--brana-surface-default) 60%,
    transparent 100%
  );
  opacity: 0;
  transform: translateY(-8px);
  transition:
    opacity var(--brana-transition-normal),
    transform var(--brana-transition-normal);
  pointer-events: none;
}

.top-toolbar[data-visible="true"] {
  opacity: 1;
  transform: translateY(0);
  pointer-events: auto;
}

.top-toolbar__content {
  display: flex;
  align-items: center;
  gap: 8px;
  max-width: 720px;
  width: 90%;
}

@media (max-width: 768px) {
  .top-toolbar {
    padding: 12px 16px;
  }

  .top-toolbar__content {
    width: 95%;
  }
}

@media (max-width: 480px) {
  .top-toolbar {
    padding: 8px 12px;
  }

  .top-toolbar__content {
    width: 100%;
    gap: 6px;
  }
}

/* Top toolbar buttons - smaller version */
.top-toolbar__button {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: transparent;
  border: 1.5px solid var(--brana-border-subtle);
  color: var(--brana-text-muted);
  font-size: 13px;
  font-weight: 600;
  cursor: pointer;
  font-family: inherit;
  transition:
    transform var(--brana-transition-fast),
    border-color var(--brana-transition-fast),
    color var(--brana-transition-fast),
    background-color var(--brana-transition-fast);
}

.top-toolbar__button:hover {
  border-color: var(--brana-text-muted);
  color: var(--brana-text-secondary);
}

.top-toolbar__button:active {
  transform: scale(0.95);
}

.top-toolbar__button[data-active="true"] {
  border-color: var(--brana-color-primary);
  color: var(--brana-color-primary);
  background: rgba(0, 122, 255, 0.1);
}

.top-toolbar__button:focus-visible {
  outline: var(--brana-focus-ring-width) solid var(--brana-focus-ring);
  outline-offset: var(--brana-focus-ring-offset);
}

.top-toolbar__button:focus:not(:focus-visible) {
  outline: none;
}

.top-toolbar__button .icon-text {
  font-size: 14px;
  font-weight: 700;
}

.top-toolbar__button svg {
  width: 16px;
  height: 16px;
}

/* Separator for toolbar groups */
.top-toolbar__separator {
  width: 1px;
  height: 24px;
  background: var(--brana-border-subtle);
  margin: 0 4px;
}

/* =============================================================================
   ProseMirror Editor Styles
   ============================================================================= */

.ProseMirror {
  outline: none;
  color: var(--brana-text-primary);
  font-family: 'IBM Plex Mono', 'SF Mono', 'Menlo', monospace;
  font-size: 17px;
  line-height: 1.65;
  caret-color: var(--brana-color-primary);
  padding: 0;
  letter-spacing: -0.01em;
  min-height: 60vh;
}

/* Responsive font sizing for mobile */
@media (max-width: 480px) {
  .ProseMirror {
    font-size: 16px;
    line-height: 1.55;
  }
}

.ProseMirror:focus {
  outline: none;
}

/* Placeholder - visible but subtle */
.ProseMirror p.is-empty.is-editor-empty:first-child::before {
  content: attr(data-placeholder);
  color: var(--brana-text-muted);
  opacity: 0.6;
  pointer-events: none;
  float: left;
  height: 0;
  font-style: italic;
  transition: opacity var(--brana-transition-normal);
}

/* Fade placeholder slightly on focus */
.ProseMirror:focus p.is-empty.is-editor-empty:first-child::before {
  opacity: 0.5;
}

/* Alternative placeholder selector for Tiptap */
.ProseMirror.is-editor-empty:first-child::before {
  content: attr(data-placeholder);
  color: var(--brana-text-muted);
  opacity: 0.6;
  pointer-events: none;
  float: left;
  height: 0;
  font-style: italic;
}

/* Block elements - consistent spacing for flow menu */
.ProseMirror p,
.ProseMirror h1,
.ProseMirror h2,
.ProseMirror h3,
.ProseMirror ul,
.ProseMirror ol,
.ProseMirror blockquote,
.ProseMirror pre,
.ProseMirror hr {
  margin: 0 0 1.5em;
}

/* Headings */
.ProseMirror h1 {
  font-size: 28px;
  font-weight: 700;
  color: var(--brana-text-primary);
}

.ProseMirror h2 {
  font-size: 22px;
  font-weight: 600;
  color: var(--brana-text-secondary);
}

.ProseMirror h3 {
  font-size: 18px;
  font-weight: 600;
  color: var(--brana-text-secondary);
}

/* Lists */
.ProseMirror ul,
.ProseMirror ol {
  padding-left: 1.5em;
}

.ProseMirror li {
  margin-bottom: 0.25em;
}

.ProseMirror li p {
  margin: 0;
}

/* Bullet list */
.ProseMirror ul {
  list-style-type: disc;
}

.ProseMirror ul ul {
  list-style-type: circle;
}

.ProseMirror ul ul ul {
  list-style-type: square;
}

/* Ordered list */
.ProseMirror ol {
  list-style-type: decimal;
}

/* Blockquote */
.ProseMirror blockquote {
  border-left: 3px solid var(--brana-color-primary);
  padding-left: 1em;
  color: var(--brana-text-secondary);
  font-style: italic;
}

/* Code */
.ProseMirror code {
  background-color: var(--brana-surface-elevated);
  color: var(--brana-color-danger);
  padding: 0.2em 0.4em;
  border-radius: 4px;
  font-family: inherit;
  font-size: 0.9em;
}

.ProseMirror pre {
  background-color: var(--brana-surface-elevated);
  color: var(--brana-text-primary);
  padding: 1em;
  border-radius: 8px;
  overflow-x: auto;
}

.ProseMirror pre code {
  background: none;
  color: inherit;
  padding: 0;
}

/* Horizontal rule */
.ProseMirror hr {
  border: none;
  border-top: 1px solid var(--brana-border-default);
}

/* Bold and Italic */
.ProseMirror strong {
  font-weight: 700;
}

.ProseMirror em {
  font-style: italic;
}

/* Strikethrough */
.ProseMirror s {
  text-decoration: line-through;
}

/* Selection */
.ProseMirror ::selection {
  background-color: rgba(0, 122, 255, 0.3);
}

/* Cursor */
.ProseMirror .ProseMirror-cursor {
  border-left: 2px solid var(--brana-color-primary);
}

/* =============================================================================
   Task List
   ============================================================================= */

.ProseMirror ul[data-type="taskList"] {
  list-style: none;
  padding-left: 0;
}

.ProseMirror ul[data-type="taskList"] li {
  display: flex;
  align-items: center;
  gap: 10px;
  min-height: 28px;
  line-height: 1.4;
}

.ProseMirror ul[data-type="taskList"] li > label {
  display: flex;
  align-items: center;
  flex-shrink: 0;
}

.ProseMirror ul[data-type="taskList"] input[type="checkbox"] {
  -webkit-appearance: none;
  appearance: none;
  width: 18px;
  height: 18px;
  min-width: 18px;
  min-height: 18px;
  border: 2px solid var(--brana-text-muted);
  border-radius: 4px;
  background-color: transparent;
  cursor: pointer;
  margin: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  transition:
    background-color var(--brana-transition-fast),
    border-color var(--brana-transition-fast);
}

.ProseMirror ul[data-type="taskList"] input[type="checkbox"]:checked {
  background-color: var(--brana-color-primary);
  border-color: var(--brana-color-primary);
}

.ProseMirror ul[data-type="taskList"] input[type="checkbox"]:checked::before {
  content: 'âœ“';
  color: white;
  font-size: 12px;
  font-weight: bold;
  line-height: 1;
}

.ProseMirror ul[data-type="taskList"] input[type="checkbox"]:focus-visible {
  outline: var(--brana-focus-ring-width) solid var(--brana-focus-ring);
  outline-offset: var(--brana-focus-ring-offset);
}

.ProseMirror ul[data-type="taskList"] li[data-checked="true"] > div > p {
  text-decoration: line-through;
  color: var(--brana-text-secondary);
}

.ProseMirror ul[data-type="taskList"] li > div {
  flex: 1;
  line-height: 1.4;
}

.ProseMirror ul[data-type="taskList"] li > div > p {
  margin: 0;
  line-height: 1.4;
}

/* Nested task lists */
.ProseMirror ul[data-type="taskList"] ul[data-type="taskList"] {
  margin-top: 0.5em;
  margin-left: 1.5em;
}

/* =============================================================================
   Links
   ============================================================================= */

.ProseMirror a,
.ProseMirror .editor-link {
  color: var(--brana-color-primary);
  text-decoration: none;
  cursor: pointer;
  transition: opacity var(--brana-transition-fast);
}

.ProseMirror a:hover,
.ProseMirror .editor-link:hover {
  text-decoration: underline;
}

/* =============================================================================
   Block Indicator (mindful-inspired dots)
   Shows ABOVE each block element (on top, not to the left)
   ============================================================================= */

.block-indicator {
  position: absolute;
  z-index: 40;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;
  height: 20px;
  opacity: 1;
  transition: opacity var(--brana-transition-slow);
  pointer-events: none;
  visibility: visible;
}

.block-dots {
  display: flex;
  flex-direction: row; /* Horizontal dots above the block */
  align-items: center;
  gap: 3px;
  user-select: none;
}

.block-dots span {
  width: 5px;
  height: 5px;
  border: 1px solid rgba(255, 255, 255, 0.35);
  border-radius: 50%;
  display: inline-block;
  background: transparent;
  transition:
    background-color var(--brana-transition-fast),
    border-color var(--brana-transition-fast),
    transform var(--brana-transition-fast);
  will-change: transform, background-color;
}

/* Staggered animation delays */
.block-dots span:nth-child(1) { transition-delay: 0ms; }
.block-dots span:nth-child(2) { transition-delay: 50ms; }
.block-dots span:nth-child(3) { transition-delay: 100ms; }

.block-dots[data-active="true"] span,
.block-dots.active span {
  background: var(--brana-text-primary);
  border-color: var(--brana-text-primary);
  transform: scale(1.2);
}

/* =============================================================================
   Block Menu (BEM + Data Attributes - mindful fk-bubble Pattern)
   ============================================================================= */

.block-menu {
  position: absolute;
  z-index: 99995;
  display: flex;
  flex-direction: row;
  align-items: center;
  /* Mindful bubble styling - pill-shaped */
  box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.3), 0px 2px 4px rgba(0, 0, 0, 0.2);
  background: rgba(28, 28, 30, 0.98);
  border: 1px solid var(--brana-border-default);
  border-radius: 26px;
  padding: 4px;
  gap: 4px;
  height: 52px;
  white-space: nowrap;
  /* Hidden state - slide up from below */
  visibility: hidden;
  pointer-events: none;
  opacity: 0;
  transform: translateY(6px);
  transition:
    visibility 0s linear 0.15s,
    opacity 0.15s ease-in-out 0s,
    transform 0.15s ease-in-out 0s;
}

.block-menu[data-visible="true"],
.block-menu.is-visible {
  visibility: visible;
  pointer-events: auto;
  opacity: 1;
  transform: translateY(0);
  transition:
    visibility 0s,
    opacity 0.15s ease-in-out 0.001s,
    transform 0.15s ease-in-out 0.001s;
}

.block-menu__icons {
  display: flex;
  flex-direction: row;
  gap: 4px; /* Spacing between buttons */
}

/* Block menu icon - flat style inside bubble (mindful pattern) */
.block-menu__icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 42px;
  height: 42px;
  border-radius: 50%; /* Fully circular like selection menu */
  background: transparent;
  border: none;
  color: var(--brana-text-secondary);
  font-size: 15px;
  cursor: pointer;
  transition:
    background-color 0.1s ease-in-out,
    color 0.1s ease-in-out;
  will-change: background-color, color;
}

/* State-based styling via data attributes (HeroUI pattern) */
.block-menu__icon[data-hovered="true"],
.block-menu__icon:hover {
  color: var(--brana-text-primary);
  background: var(--brana-surface-overlay);
}

.block-menu__icon[data-pressed="true"],
.block-menu__icon:active {
  transform: scale(0.95);
}

.block-menu__icon[data-selected="true"] {
  color: var(--brana-text-primary);
  background: var(--brana-surface-overlay);
}

.block-menu__icon[data-active="true"] {
  color: var(--brana-color-primary);
  background: rgba(0, 122, 255, 0.2);
}

.block-menu__icon[data-focus-visible="true"],
.block-menu__icon:focus-visible {
  outline: var(--brana-focus-ring-width) solid var(--brana-focus-ring);
  outline-offset: 1px;
}

/* Remove focus ring for mouse users */
.block-menu__icon:focus:not(:focus-visible) {
  outline: none;
}

/* Legacy class support for backwards compatibility */
.block-menu-icons {
  display: flex;
  flex-direction: row;
  gap: 8px;
}

.block-menu-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 44px;
  height: 44px;
  border-radius: 50%;
  background: var(--brana-surface-elevated);
  border: 1.5px solid var(--brana-border-subtle);
  color: var(--brana-text-secondary);
  font-size: 16px;
  cursor: pointer;
  transition:
    transform var(--brana-transition-fast),
    opacity var(--brana-transition-fast),
    border-color var(--brana-transition-fast),
    color var(--brana-transition-fast),
    background-color var(--brana-transition-fast);
  will-change: transform, opacity;
}

.block-menu-icon:hover {
  border-color: var(--brana-text-secondary);
  color: var(--brana-text-primary);
  background: var(--brana-surface-overlay);
  transform: scale(1.05);
}

.block-menu-icon:active {
  transform: scale(0.95);
  background: var(--brana-surface-overlay);
}

.block-menu-icon[data-selected="true"] {
  border-color: var(--brana-text-primary);
  color: var(--brana-text-primary);
  background: var(--brana-surface-overlay);
  box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.2);
}

.block-menu-icon[data-active="true"] {
  border-color: var(--brana-color-primary);
  color: var(--brana-color-primary);
  background: rgba(0, 122, 255, 0.2);
}

.block-menu-icon:focus-visible {
  outline: var(--brana-focus-ring-width) solid var(--brana-focus-ring);
  outline-offset: var(--brana-focus-ring-offset);
}

.block-menu-icon:focus:not(:focus-visible) {
  outline: none;
}

/* Icon text styling */
.block-menu__icon .icon-text,
.block-menu-icon .icon-text {
  font-size: 13px;
  font-weight: 700;
  letter-spacing: -0.3px;
}

.block-menu__icon svg,
.block-menu-icon svg {
  width: 16px;
  height: 16px;
}

/* Label for icons like H1, H2 */
.menu-button-label {
  font-size: 10px;
  font-weight: 700;
  margin-left: -4px;
  margin-top: 8px;
}

/* =============================================================================
   Selection Menu (mindful fk-bubble inspired)
   ============================================================================= */

.selection-menu {
  position: absolute;
  display: flex;
  flex-direction: row;
  align-items: center;
  z-index: 99995;
  /* Mindful bubble styling - pill-shaped */
  box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.3), 0px 2px 4px rgba(0, 0, 0, 0.2);
  background: rgba(28, 28, 30, 0.98);
  border: 1px solid var(--brana-border-default);
  border-radius: 26px;
  padding: 4px;
  gap: 4px; /* Spacing between buttons */
  height: 52px; /* Match block menu height */
  white-space: nowrap;
  vertical-align: middle;
  line-height: 32px;
  /* Hidden state - slide up from below */
  visibility: hidden;
  pointer-events: none;
  opacity: 0;
  transform: translateX(-50%) translateY(6px);
  transition:
    visibility 0s linear 0.15s,
    opacity 0.15s ease-in-out 0s,
    transform 0.15s ease-in-out 0s;
}

.selection-menu[data-visible="true"],
.selection-menu.is-visible {
  visibility: visible;
  pointer-events: auto;
  opacity: 1;
  transform: translateX(-50%) translateY(0);
  transition:
    visibility 0s,
    opacity 0.15s ease-in-out 0.001s,
    transform 0.15s ease-in-out 0.001s;
}

/* BubbleMenu wrapper styling - matches block-menu pill style */
.bubble-menu-wrapper {
  display: flex;
  flex-direction: row;
  align-items: center;
  z-index: 99995;
  /* Mindful bubble styling - pill-shaped like block-menu */
  box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.3), 0px 2px 4px rgba(0, 0, 0, 0.2);
  background: rgba(28, 28, 30, 0.98);
  border: 1px solid var(--brana-border-default);
  border-radius: 26px;
  padding: 4px;
  gap: 4px;
  height: 52px;
  white-space: nowrap;
}

/* BubbleMenu uses Tippy.js - style the tippy box */
.tippy-box[data-theme~='brana'] {
  background: transparent;
  border: none;
  box-shadow: none;
}

.tippy-box[data-theme~='brana'] > .tippy-content {
  padding: 0;
}

.tippy-box[data-theme~='brana'] > .tippy-arrow {
  display: none;
}

/* Selection menu buttons (mindful style) */
.selection-menu button,
.bubble-menu-wrapper button {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 42px;
  height: 42px;
  border-radius: 50%; /* Fully circular like block menu */
  background: transparent;
  border: none;
  color: var(--brana-text-secondary);
  font-size: 14px;
  cursor: pointer;
  font-family: inherit;
  transition:
    background-color 0.1s ease-in-out,
    color 0.1s ease-in-out;
}

.selection-menu button:hover {
  background: var(--brana-surface-overlay);
  color: var(--brana-text-primary);
}

.selection-menu button:active {
  transform: scale(0.95);
}

.selection-menu button[data-selected="true"] {
  background: var(--brana-surface-overlay);
  color: var(--brana-text-primary);
}

.selection-menu button[data-active="true"] {
  background: rgba(0, 122, 255, 0.2);
  color: var(--brana-color-primary);
}

.selection-menu button:focus-visible {
  outline: var(--brana-focus-ring-width) solid var(--brana-focus-ring);
  outline-offset: 1px;
}

.selection-menu button:focus:not(:focus-visible) {
  outline: none;
}

/* =============================================================================
   Bubble Menu (Legacy)
   ============================================================================= */

.bubble-menu {
  display: flex;
  background: var(--brana-surface-elevated);
  border-radius: 8px;
  padding: 4px;
  gap: 2px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  border: 1px solid var(--brana-border-default);
}

.bubble-menu button {
  background: transparent;
  border: none;
  color: var(--brana-text-secondary);
  padding: 6px 10px;
  border-radius: 4px;
  cursor: pointer;
  font-family: inherit;
  font-size: 13px;
  font-weight: 500;
  transition:
    background-color var(--brana-transition-fast),
    color var(--brana-transition-fast);
}

.bubble-menu button:hover {
  background: var(--brana-surface-overlay);
  color: var(--brana-text-primary);
}

.bubble-menu button.is-active {
  color: var(--brana-text-primary);
  background: var(--brana-color-primary);
}

.bubble-menu button:focus-visible {
  outline: var(--brana-focus-ring-width) solid var(--brana-focus-ring);
  outline-offset: var(--brana-focus-ring-offset);
}

/* =============================================================================
   Space Command Menu (Legacy)
   ============================================================================= */

.space-command-menu {
  background: var(--brana-surface-elevated);
  border-radius: 8px;
  padding: 6px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  border: 1px solid var(--brana-border-default);
  display: flex;
  flex-direction: row;
  gap: 4px;
  z-index: 100;
}

.space-command-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 8px 12px;
  border-radius: 6px;
  cursor: pointer;
  color: var(--brana-text-primary);
  background: transparent;
  border: none;
  font-family: inherit;
  transition: background-color var(--brana-transition-fast);
  min-width: 56px;
}

.space-command-item:hover {
  background: var(--brana-surface-overlay);
}

.space-command-item:focus-visible {
  outline: var(--brana-focus-ring-width) solid var(--brana-focus-ring);
  outline-offset: var(--brana-focus-ring-offset);
}

.space-command-icon {
  font-size: 16px;
  font-weight: 600;
  margin-bottom: 4px;
  color: var(--brana-text-secondary);
}

.space-command-title {
  font-size: 10px;
  color: var(--brana-text-muted);
  white-space: nowrap;
}

/* =============================================================================
   Web Navigation Icons (Fixed/Sticky Position)
   ============================================================================= */

.web-nav {
  position: fixed;
  bottom: 24px;
  z-index: 9999;
  display: flex;
  gap: 8px;
}

.web-nav--left {
  left: 24px;
}

.web-nav--right {
  right: 24px;
}

@media (max-width: 768px) {
  .web-nav {
    bottom: 16px;
  }
  .web-nav--left {
    left: 16px;
  }
  .web-nav--right {
    right: 16px;
  }
}

.web-nav__button {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: transparent;
  border: none;
  color: var(--brana-text-muted);
  font-size: 16px;
  cursor: pointer;
  transition:
    color var(--brana-transition-fast),
    transform var(--brana-transition-fast);
}

.web-nav__button:hover {
  color: var(--brana-text-secondary);
}

.web-nav__button:active {
  transform: scale(0.95);
}

.web-nav__button:focus-visible {
  outline: var(--brana-focus-ring-width) solid var(--brana-focus-ring);
  outline-offset: var(--brana-focus-ring-offset);
}

.web-nav__button:focus:not(:focus-visible) {
  outline: none;
}

/* =============================================================================
   Archive Page (Web)
   ============================================================================= */

.archive-container {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  background-color: var(--brana-surface-default);
  color: var(--brana-text-primary);
  font-family: 'IBM Plex Mono', 'SF Mono', 'Menlo', monospace;
  max-width: 720px;
  width: 90%;
  margin: 0 auto;
  padding: 48px 24px;
}

.archive-header {
  margin-bottom: 48px;
}

.archive-title {
  font-size: 24px;
  font-weight: 600;
  color: var(--brana-text-primary);
  margin: 0;
}

.archive-content {
  flex: 1;
}

.archive-empty {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 64px 0;
  color: var(--brana-text-muted);
}

.archive-empty p {
  margin-top: 16px;
  font-size: 16px;
}

.archive-group {
  margin-bottom: 32px;
}

.archive-date {
  font-size: 12px;
  font-weight: 500;
  color: var(--brana-text-secondary);
  text-transform: uppercase;
  letter-spacing: 1px;
  margin: 0 0 16px 0;
}

.archive-item {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  width: 100%;
  padding: 12px 0;
  background: transparent;
  border: none;
  text-align: left;
  cursor: pointer;
  font-family: inherit;
  transition: opacity var(--brana-transition-fast);
}

.archive-item:hover {
  opacity: 0.7;
}

.archive-item-title {
  font-size: 16px;
  font-weight: 500;
  color: var(--brana-text-primary);
  display: block;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  max-width: 100%;
}

.archive-item-preview {
  font-size: 13px;
  color: var(--brana-text-secondary);
  margin-top: 8px;
  max-height: 80px;
  overflow: hidden;
  line-height: 1.5;
  text-align: left;
}

.archive-item-preview * {
  margin: 0;
  padding: 0;
  font-size: inherit;
  line-height: inherit;
}

.archive-item-preview h1,
.archive-item-preview h2,
.archive-item-preview h3 {
  font-size: 13px;
  font-weight: 500;
  display: none; /* Hide headings since title is shown separately */
}

.archive-item-preview p {
  margin-bottom: 4px;
}

.archive-item-preview ul,
.archive-item-preview ol {
  padding-left: 16px;
  margin-bottom: 4px;
}

.archive-item-preview li {
  margin-bottom: 2px;
}

.archive-item-preview blockquote {
  border-left: 2px solid var(--brana-text-muted);
  padding-left: 8px;
  font-style: italic;
}

.archive-item-preview a {
  color: var(--brana-color-primary);
  text-decoration: none;
}

.archive-item-preview code {
  background: var(--brana-surface-elevated);
  padding: 1px 4px;
  border-radius: 3px;
  font-size: 12px;
}

/* =============================================================================
   Settings Page (Web)
   ============================================================================= */

.settings-container {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  background-color: var(--brana-surface-default);
  color: var(--brana-text-primary);
  font-family: 'IBM Plex Mono', 'SF Mono', 'Menlo', monospace;
  max-width: 720px;
  width: 90%;
  margin: 0 auto;
  padding: 48px 24px;
}

.settings-header {
  margin-bottom: 48px;
}

.settings-title {
  font-size: 24px;
  font-weight: 600;
  color: var(--brana-text-primary);
  margin: 0;
}

.settings-content {
  flex: 1;
}

.settings-message {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 64px 0;
  color: var(--brana-text-muted);
  text-align: center;
}

.settings-message h2 {
  font-size: 16px;
  font-weight: 500;
  color: var(--brana-text-primary);
  margin: 16px 0 0 0;
}

.settings-message p {
  font-size: 14px;
  color: var(--brana-text-secondary);
  margin: 8px 0 0 0;
  line-height: 1.5;
}
